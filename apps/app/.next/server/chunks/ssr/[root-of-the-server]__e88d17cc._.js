module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},68667,a=>{"use strict";var b=a.i(47646),c=a.i(11543);let d={on_hold:"text-yellow-300 bg-yellow-500/20",approved:"text-sky-300 bg-sky-500/20",released:"text-emerald-300 bg-emerald-500/20",rejected:"text-red-300 bg-red-500/20"},e=[{label:"All",value:"all"},{label:"On Hold",value:"on_hold"},{label:"Approved",value:"approved"},{label:"Released",value:"released"},{label:"Rejected",value:"rejected"}];function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)(null),m=(0,c.useMemo)(()=>process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",[]),n=async()=>{h(!0);try{let a=await fetch(`${m}/v1/payouts`);a.ok&&f(await a.json())}finally{h(!1)}};(0,c.useEffect)(()=>{n()},[]);let o=async(a,b)=>{await fetch(`${m}/v1/payouts/${a}/${b}`,{method:"POST"}),l(null),await n()},p="all"===i?a:a.filter(a=>a.status===i);return(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:"Payout queue"}),(0,b.jsx)("p",{className:"mt-3 text-sm text-zinc-400",children:"Hold, approve, release, or reject affiliate payouts."}),(0,b.jsx)("div",{className:"mt-5 flex flex-wrap gap-2",children:e.map(a=>(0,b.jsx)("button",{className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${i===a.value?"bg-white text-black":"border border-white/20 text-zinc-400 hover:text-white hover:border-white/40"}`,onClick:()=>j(a.value),children:a.label},a.value))}),g&&(0,b.jsx)("p",{className:"mt-4 text-sm text-zinc-400",children:"Loading..."}),(0,b.jsxs)("div",{className:"mt-6 space-y-3 text-sm",children:[0===p.length&&!g&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-400",children:[(0,b.jsx)("svg",{className:"mb-4 h-12 w-12 text-zinc-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})}),(0,b.jsx)("p",{className:"text-base font-medium",children:"No payouts match the current filter"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-zinc-500",children:"Try selecting a different status tab above."})]}),p.map(a=>(0,b.jsxs)("div",{className:"flex flex-col gap-3 rounded-xl border border-white/10 bg-black/30 p-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white",children:[a.affiliateId.slice(0,12),"... Â· ",a.currency," ",a.amount.toLocaleString()]}),(0,b.jsx)("div",{className:"text-xs text-zinc-400",children:a.holdUntil?`Hold until ${new Date(a.holdUntil).toLocaleDateString()}`:"No hold"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`rounded-full px-3 py-1 text-xs ${d[a.status]??"text-zinc-300 bg-white/10"}`,children:a.status}),"on_hold"===a.status&&(0,b.jsx)("button",{className:"rounded-full bg-white px-3 py-1 text-black",onClick:()=>l({id:a.id,verb:"approve",label:"approve"}),children:"Approve"}),"approved"===a.status&&(0,b.jsx)("button",{className:"rounded-full bg-emerald-500 px-3 py-1 text-black",onClick:()=>l({id:a.id,verb:"release",label:"release"}),children:"Release"}),("on_hold"===a.status||"approved"===a.status)&&(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-white",onClick:()=>l({id:a.id,verb:"reject",label:"reject"}),children:"Reject"})]})]},a.id))]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-zinc-900 p-6 shadow-xl",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Confirm action"}),(0,b.jsxs)("p",{className:"mt-3 text-sm text-zinc-300",children:["Are you sure you want to ",(0,b.jsx)("span",{className:"font-medium text-white",children:k.label})," this payout?"]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-5 py-2 text-sm text-zinc-400 hover:text-white",onClick:()=>l(null),children:"Cancel"}),(0,b.jsx)("button",{className:"rounded-full bg-white px-5 py-2 text-sm font-medium text-black hover:bg-zinc-200",onClick:()=>o(k.id,k.verb),children:"Confirm"})]})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e88d17cc._.js.map