module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},68519,a=>{"use strict";var b=a.i(47646),c=a.i(11543);let d=["connected","ready","planned"],e=["Search","Social","Push / Pop","Native","In-game / Apps","B2B","Other"],f=[{id:"fallback-1",name:"Google Ads",category:"Search",status:"connected",provider:"google"},{id:"fallback-2",name:"Meta Ads",category:"Social",status:"connected",provider:"meta"},{id:"fallback-3",name:"Microsoft Ads",category:"Search",status:"ready",provider:"microsoft"},{id:"fallback-4",name:"PropellerAds",category:"Push / Pop",status:"ready",provider:"propellerads"}];function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)({name:"",category:"",status:"planned",provider:""}),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),t=(0,c.useMemo)(()=>process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",[]),u=async()=>{i(!0),k(null);try{let a=await fetch(`${t}/v1/channels`);if(!a.ok)throw Error("Failed to load channels");let b=await a.json();g(b.length?b:f)}catch(a){k(a.message),g(f)}finally{i(!1)}};(0,c.useEffect)(()=>{u()},[]);let v=()=>{m({name:"",category:"",status:"planned",provider:""}),o(null)},w=async()=>{(k(null),l.name&&l.category)?(await fetch(`${t}/v1/channels`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,category:l.category,status:l.status,provider:l.provider||void 0})})).ok?(v(),await u()):k("Failed to create channel."):k("Name and category are required.")},x=async()=>{n&&((k(null),l.name&&l.category)?(await fetch(`${t}/v1/channels/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,category:l.category,status:l.status,provider:l.provider||void 0})})).ok?(v(),await u()):k("Failed to update channel."):k("Name and category are required."))},y=async a=>{(await fetch(`${t}/v1/channels/${a}`,{method:"DELETE"})).ok?(q(null),await u()):k("Failed to delete channel.")},z=a.filter(a=>a.name.toLowerCase().includes(r.toLowerCase()));return(0,b.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:"Channels library"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-4 py-2 text-sm text-zinc-400 hover:text-white",onClick:v,children:"Cancel"}),(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",onClick:n?x:w,children:n?"Save changes":"Add channel"})]})]}),(0,b.jsx)("p",{className:"mt-3 text-sm text-zinc-400",children:"Manage major advertising channels plus push, native, and in-app traffic sources."}),(0,b.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-4",children:[(0,b.jsx)("input",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",placeholder:"Channel name",value:l.name,onChange:a=>m(b=>({...b,name:a.target.value}))}),(0,b.jsxs)("select",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",value:l.category,onChange:a=>m(b=>({...b,category:a.target.value})),children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"Select category"}),e.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsx)("select",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",value:l.status,onChange:a=>m(b=>({...b,status:a.target.value})),children:d.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("input",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",placeholder:"Provider (optional)",value:l.provider,onChange:a=>m(b=>({...b,provider:a.target.value}))})]}),j?(0,b.jsx)("p",{className:"mt-4 text-sm text-red-300",children:j}):null,h?(0,b.jsx)("p",{className:"mt-4 text-sm text-zinc-400",children:"Loading..."}):null,(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)("input",{className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder:text-zinc-500",placeholder:"Search channels by name...",value:r,onChange:a=>s(a.target.value)})}),(0,b.jsx)("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:z.map(a=>(0,b.jsxs)("div",{className:`flex items-center justify-between rounded-xl border p-4 cursor-pointer transition-colors ${n===a.id?"border-purple-500/60 bg-purple-500/10":"border-white/10 bg-black/30 hover:border-white/20"}`,onClick:()=>{o(a.id),m({name:a.name,category:a.category,status:a.status,provider:a.provider??""})},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-zinc-400",children:[a.category," Â· ",a.status]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",onClick:a=>a.stopPropagation(),children:p===a.id?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-red-300",children:"Confirm delete?"}),(0,b.jsx)("button",{className:"rounded-full bg-red-500/20 border border-red-500/40 px-3 py-1 text-xs text-red-300 hover:bg-red-500/30",onClick:()=>y(a.id),children:"Yes"}),(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white hover:bg-white/10",onClick:()=>q(null),children:"Cancel"})]}):(0,b.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white",onClick:()=>q(a.id),children:"Remove"})})]},a.id))})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e57ec41b._.js.map