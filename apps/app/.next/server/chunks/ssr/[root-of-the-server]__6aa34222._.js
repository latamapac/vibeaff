module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},44207,a=>{"use strict";var b=a.i(47646),c=a.i(11543);let d=process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000";function e(){return{"Content-Type":"application/json"}}function f({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse rounded-xl bg-zinc-800 ${a}`})}function g(){let[a,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),z=(0,c.useCallback)(async()=>{m(!0),s(null);try{let a=await fetch(`${d}/v1/metrics`,{headers:e()});if(!a.ok)throw Error(`HTTP ${a.status}`);g(await a.json())}catch(a){s(a.message)}finally{m(!1)}},[]),A=(0,c.useCallback)(async()=>{o(!0),u(null);try{let a=await fetch(`${d}/v1/payouts`,{headers:e()});if(!a.ok)throw Error(`HTTP ${a.status}`);let b=await a.json();i(b.data??b)}catch(a){u(a.message)}finally{o(!1)}},[]),B=(0,c.useCallback)(async()=>{q(!0),w(null);try{let a=await fetch(`${d}/v1/audit-logs?limit=5`,{headers:e()});if(!a.ok)throw Error(`HTTP ${a.status}`);let b=await a.json();k(b.data??b)}catch(a){w(a.message)}finally{q(!1)}},[]);(0,c.useEffect)(()=>{z(),A(),B();let a=setInterval(()=>{z(),A(),B()},3e4);return()=>clearInterval(a)},[z,A,B]);let C=async(a,b)=>{y(`${a}-${b}`);try{let c=await fetch(`${d}/v1/payouts/${a}/${b}`,{method:"POST",headers:e(),body:JSON.stringify("hold"===b?{reason:"Admin hold"}:{note:`${b.charAt(0).toUpperCase()+b.slice(1)}d by admin`})});if(!c.ok)throw Error(`HTTP ${c.status}`);await A()}catch{}finally{y(null)}},D=[{label:"Merchants",value:a?.merchants},{label:"Affiliates",value:a?.affiliates},{label:"Programs",value:a?.programs},{label:"Campaigns",value:a?.campaigns},{label:"Conversions",value:a?.conversions},{label:"Payouts",value:a?.payouts},{label:"Channels",value:a?.channels},{label:"Creative tools",value:a?.creativeTools}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:"grid gap-6 md:grid-cols-4",children:l?Array.from({length:8}).map((a,c)=>(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,b.jsx)(f,{className:"h-4 w-20 mb-3"}),(0,b.jsx)(f,{className:"h-7 w-16"})]},c)):r?(0,b.jsxs)("div",{className:"md:col-span-4 rounded-2xl border border-red-500/20 bg-red-500/5 p-6 text-center",children:[(0,b.jsxs)("p",{className:"text-sm text-red-400 mb-3",children:["Failed to load metrics: ",r]}),(0,b.jsx)("button",{onClick:z,className:"rounded-full border border-white/20 px-4 py-2 text-sm text-white hover:bg-white/10 transition",children:"Retry"})]}):D.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-400",children:a.label}),(0,b.jsx)("div",{className:"mt-3 text-2xl font-semibold",children:a.value??"—"})]},a.label))}),(0,b.jsxs)("section",{className:"grid gap-6 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 md:col-span-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Payout queue"}),(0,b.jsx)("button",{onClick:A,className:"rounded-full border border-white/20 px-4 py-2 text-sm hover:bg-white/10 transition",children:"Refresh"})]}),(0,b.jsx)("div",{className:"mt-4 space-y-3 text-sm text-zinc-300",children:n?Array.from({length:3}).map((a,c)=>(0,b.jsx)(f,{className:"h-14 w-full"},c)):t?(0,b.jsxs)("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 p-4 text-center",children:[(0,b.jsxs)("p",{className:"text-sm text-red-400 mb-2",children:["Failed to load payouts: ",t]}),(0,b.jsx)("button",{onClick:A,className:"text-sm text-white underline hover:no-underline",children:"Retry"})]}):0===h.length?(0,b.jsx)("p",{className:"text-zinc-500 text-center py-4",children:"No payouts in queue"}):h.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsxs)("span",{children:[a.affiliateId," • $",a.amount.toLocaleString()," •"," ",(0,b.jsx)("span",{className:"pending"===a.status?"text-yellow-400":"approved"===a.status?"text-green-400":"held"===a.status?"text-orange-400":"rejected"===a.status?"text-red-400":"text-zinc-400",children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[("pending"===a.status||"held"===a.status)&&(0,b.jsx)("button",{onClick:()=>C(a.id,"approve"),disabled:x===`${a.id}-approve`,className:"rounded-full bg-white px-3 py-1 text-black text-xs font-medium disabled:opacity-50",children:x===`${a.id}-approve`?"...":"Approve"}),"pending"===a.status&&(0,b.jsx)("button",{onClick:()=>C(a.id,"hold"),disabled:x===`${a.id}-hold`,className:"rounded-full border border-white/20 px-3 py-1 text-white text-xs disabled:opacity-50",children:x===`${a.id}-hold`?"...":"Hold"}),"held"===a.status&&(0,b.jsx)("button",{onClick:()=>C(a.id,"release"),disabled:x===`${a.id}-release`,className:"rounded-full bg-white px-3 py-1 text-black text-xs font-medium disabled:opacity-50",children:x===`${a.id}-release`?"...":"Release"})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Alerts"}),(0,b.jsx)("ul",{className:"mt-4 space-y-3 text-sm text-zinc-300",children:p?Array.from({length:3}).map((a,c)=>(0,b.jsx)(f,{className:"h-14 w-full"},c)):v?(0,b.jsxs)("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 p-4 text-center",children:[(0,b.jsxs)("p",{className:"text-sm text-red-400 mb-2",children:["Failed to load logs: ",v]}),(0,b.jsx)("button",{onClick:B,className:"text-sm text-white underline hover:no-underline",children:"Retry"})]}):0===j.length?(0,b.jsx)("p",{className:"text-zinc-500 text-center py-4",children:"No recent alerts"}):j.map(a=>(0,b.jsxs)("li",{className:"rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:a.action})," ","on ",a.resourceType," ",a.resourceId,(0,b.jsxs)("div",{className:"text-xs text-zinc-500 mt-1",children:[new Date(a.timestamp).toLocaleString()," • ",a.ip]})]},a.id))})]})]}),(0,b.jsxs)("section",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Integrations"}),(0,b.jsxs)("div",{className:"mt-4 space-y-3 text-sm text-zinc-300",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Google Analytics"}),(0,b.jsx)("span",{className:"text-green-400",children:"Connected"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Ads Library"}),(0,b.jsx)("span",{className:"text-green-400",children:"Syncing"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Crypto payouts"}),(0,b.jsx)("span",{className:"text-yellow-400",children:"Pending KYC"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Compliance checklist"}),(0,b.jsxs)("div",{className:"mt-4 space-y-3 text-sm text-zinc-300",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Affiliate KYC review"}),(0,b.jsx)("span",{className:"text-green-400",children:"OK"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Payout holds enforced"}),(0,b.jsx)("span",{className:"text-green-400",children:"OK"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,b.jsx)("span",{children:"Audit logs retention"}),(0,b.jsx)("span",{className:"text-yellow-400",children:"30 days"})]})]})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6aa34222._.js.map