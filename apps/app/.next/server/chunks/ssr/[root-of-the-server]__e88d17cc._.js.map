{"version":3,"sources":["../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../../VibeAff/apps/app/src/app/admin/payouts/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\n\ntype Payout = {\n  id: string;\n  affiliateId: string;\n  amount: number;\n  currency: string;\n  status: string;\n  holdUntil: string | null;\n  createdAt: string;\n};\n\nconst statusColors: Record<string, string> = {\n  on_hold: \"text-yellow-300 bg-yellow-500/20\",\n  approved: \"text-sky-300 bg-sky-500/20\",\n  released: \"text-emerald-300 bg-emerald-500/20\",\n  rejected: \"text-red-300 bg-red-500/20\",\n};\n\nfunction getApiUrl() {\n  return process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000\";\n}\n\nexport default function PayoutsPage() {\n  const [payouts, setPayouts] = useState<Payout[]>([]);\n  const [loading, setLoading] = useState(true);\n  const apiUrl = useMemo(() => getApiUrl(), []);\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${apiUrl}/v1/payouts`);\n      if (res.ok) setPayouts(await res.json());\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { void load(); }, []);\n\n  const action = async (id: string, verb: string) => {\n    await fetch(`${apiUrl}/v1/payouts/${id}/${verb}`, { method: \"POST\" });\n    await load();\n  };\n\n  return (\n    <section className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n      <h1 className=\"text-lg font-semibold\">Payout queue</h1>\n      <p className=\"mt-3 text-sm text-zinc-400\">\n        Hold, approve, release, or reject affiliate payouts.\n      </p>\n      {loading && <p className=\"mt-4 text-sm text-zinc-400\">Loading...</p>}\n      <div className=\"mt-6 space-y-3 text-sm\">\n        {payouts.length === 0 && !loading && (\n          <p className=\"text-zinc-400\">No payouts yet.</p>\n        )}\n        {payouts.map((p) => (\n          <div key={p.id} className=\"flex flex-col gap-3 rounded-xl border border-white/10 bg-black/30 p-4 md:flex-row md:items-center md:justify-between\">\n            <div>\n              <div className=\"text-white\">\n                {p.affiliateId.slice(0, 12)}... &middot; {p.currency} {p.amount.toLocaleString()}\n              </div>\n              <div className=\"text-xs text-zinc-400\">\n                {p.holdUntil ? `Hold until ${new Date(p.holdUntil).toLocaleDateString()}` : \"No hold\"}\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className={`rounded-full px-3 py-1 text-xs ${statusColors[p.status] ?? \"text-zinc-300 bg-white/10\"}`}>\n                {p.status}\n              </span>\n              {p.status === \"on_hold\" && (\n                <button className=\"rounded-full bg-white px-3 py-1 text-black\" onClick={() => action(p.id, \"approve\")}>\n                  Approve\n                </button>\n              )}\n              {p.status === \"approved\" && (\n                <button className=\"rounded-full bg-emerald-500 px-3 py-1 text-black\" onClick={() => action(p.id, \"release\")}>\n                  Release\n                </button>\n              )}\n              {(p.status === \"on_hold\" || p.status === \"approved\") && (\n                <button className=\"rounded-full border border-white/20 px-3 py-1 text-white\" onClick={() => action(p.id, \"reject\")}>\n                  Reject\n                </button>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}