{"version":3,"sources":["../../../../../../../VibeAff/apps/app/src/app/admin/leaderboard/page.tsx"],"sourcesContent":["const tierColors: Record<string, string> = {\n  diamond: \"text-violet-300 bg-violet-500/20\",\n  platinum: \"text-cyan-300 bg-cyan-500/20\",\n  gold: \"text-yellow-300 bg-yellow-500/20\",\n  silver: \"text-zinc-200 bg-zinc-400/20\",\n  bronze: \"text-orange-300 bg-orange-500/20\",\n};\n\ntype LeaderboardEntry = {\n  rank: number;\n  affiliateId: string;\n  displayName: string;\n  totalEarnings: number;\n  totalConversions: number;\n  tier: string;\n  badges: string[];\n};\n\nasync function loadLeaderboard(): Promise<LeaderboardEntry[]> {\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000\";\n  try {\n    const res = await fetch(`${apiUrl}/v1/leaderboard`, { cache: \"no-store\" });\n    if (!res.ok) return [];\n    return (await res.json()) as LeaderboardEntry[];\n  } catch (_err) {\n    return [];\n  }\n}\n\nexport default async function LeaderboardPage() {\n  const entries = await loadLeaderboard();\n  return (\n    <section className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n      <h1 className=\"text-lg font-semibold\">Affiliate leaderboard</h1>\n      <p className=\"mt-3 text-sm text-zinc-400\">\n        Top affiliates ranked by total earnings.\n      </p>\n      <div className=\"mt-6 space-y-3 text-sm\">\n        {entries.length === 0 && (\n          <p className=\"text-zinc-400\">No affiliate data yet.</p>\n        )}\n        {entries.map((entry) => (\n          <div key={entry.affiliateId} className=\"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-4\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-sm font-semibold\">\n                {entry.rank}\n              </div>\n              <div>\n                <div className=\"text-white\">{entry.displayName}</div>\n                <div className=\"text-xs text-zinc-400\">\n                  {entry.totalConversions} conversions &middot; ${entry.totalEarnings.toLocaleString()}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className={`rounded-full px-3 py-1 text-xs ${tierColors[entry.tier] ?? \"text-zinc-300 bg-white/10\"}`}>\n                {entry.tier}\n              </span>\n              {entry.badges.map((badge) => (\n                <span key={badge} className=\"rounded-full bg-white/10 px-2 py-1 text-xs text-zinc-300\">\n                  {badge}\n                </span>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"8WAAA,IAAM,EAAqC,CACzC,QAAS,mCACT,SAAU,+BACV,KAAM,mCACN,OAAQ,+BACR,OAAQ,kCACV,EAYA,eAAe,IACb,IAAM,EAAS,QAAQ,GAAG,CAAC,mBAAmB,EAAI,wBAClD,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAO,eAAe,CAAC,CAAE,CAAE,MAAO,UAAW,GACxE,GAAI,CAAC,EAAI,EAAE,CAAE,MAAO,EAAE,CACtB,OAAQ,MAAM,EAAI,IAAI,EACxB,CAAE,MAAO,EAAM,CACb,MAAO,EAAE,AACX,CACF,CAEe,eAAe,IAC5B,IAAM,EAAU,MAAM,IACtB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,8DACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,0BACtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,6CAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACO,IAAnB,EAAQ,MAAM,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,2BAE9B,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA4B,UAAU,gGACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACZ,EAAM,IAAI,GAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBAAc,EAAM,WAAW,GAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAM,gBAAgB,CAAC,mBAAwB,EAAM,aAAa,CAAC,cAAc,YAIxF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,+BAA+B,EAAE,CAAU,CAAC,EAAM,IAAI,CAAC,EAAI,4BAAA,CAA6B,UACvG,EAAM,IAAI,GAEZ,EAAM,MAAM,CAAC,GAAG,CAAC,AAAC,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAiB,UAAU,oEACzB,GADQ,SAjBP,EAAM,WAAW,QA2BrC"}