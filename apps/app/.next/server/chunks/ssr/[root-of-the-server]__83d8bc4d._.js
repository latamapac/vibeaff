module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},41595,a=>{"use strict";var b=a.i(47646),c=a.i(11543);let d=process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",e=["Create merchant","Create program","Review"];function f({current:a}){return(0,b.jsx)("div",{className:"flex items-center justify-center gap-0 mb-10",children:e.map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center",children:[d>0&&(0,b.jsx)("div",{className:`h-0.5 w-12 sm:w-20 transition-colors duration-300 ${d<=a?"bg-blue-500":"bg-zinc-700"}`}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border-2 text-sm font-bold transition-all duration-300 ${d<a?"border-blue-500 bg-blue-500 text-white":d===a?"border-blue-500 bg-blue-500/20 text-blue-400":"border-zinc-700 bg-zinc-900 text-zinc-500"}`,children:d<a?(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):d+1}),(0,b.jsx)("span",{className:`text-xs font-medium whitespace-nowrap ${d<=a?"text-blue-400":"text-zinc-500"}`,children:c})]})]},c))})}function g(){let[a,e]=(0,c.useState)(0),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("10"),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("30"),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null);async function A(a){a.preventDefault(),h(!0),j(null);try{let a=await fetch(`${d}/v1/merchants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,websiteUrl:o,defaultCommission:parseFloat(q)})});if(!a.ok){let b=await a.json().catch(()=>({}));throw Error(b.message??`Request failed (${a.status})`)}let b=await a.json();x(b),e(1)}catch(a){j(a instanceof Error?a.message:"Something went wrong")}finally{h(!1)}}async function B(a){if(a.preventDefault(),w){h(!0),j(null);try{let a=await fetch(`${d}/v1/merchants/${w.id}/programs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,attributionWindowDays:parseInt(u,10)})});if(!a.ok){let b=await a.json().catch(()=>({}));throw Error(b.message??`Request failed (${a.status})`)}let b=await a.json();z(b),e(2)}catch(a){j(a instanceof Error?a.message:"Something went wrong")}finally{h(!1)}}}return k?(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white",children:[(0,b.jsxs)("header",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[(0,b.jsx)("div",{className:"text-xl font-semibold",children:"Partner Toolkit"}),(0,b.jsx)("a",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",href:"/",children:"Back to site"})]}),(0,b.jsxs)("main",{className:"mx-auto flex max-w-2xl flex-col items-center px-6 py-24 text-center",children:[(0,b.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-green-500/20",children:(0,b.jsx)("svg",{className:"h-10 w-10 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Program launched!"}),(0,b.jsxs)("p",{className:"mt-3 text-zinc-400",children:["Your merchant ",(0,b.jsx)("span",{className:"text-white font-medium",children:w?.name})," and program"," ",(0,b.jsx)("span",{className:"text-white font-medium",children:y?.name})," are live."]}),(0,b.jsx)("a",{href:"/admin",className:"mt-8 inline-block rounded-xl bg-blue-600 px-8 py-3 font-semibold text-white transition-colors hover:bg-blue-500",children:"Go to Admin Dashboard"})]})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white",children:[(0,b.jsxs)("header",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[(0,b.jsx)("div",{className:"text-xl font-semibold",children:"Partner Toolkit"}),(0,b.jsx)("a",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",href:"/",children:"Back to site"})]}),(0,b.jsxs)("main",{className:"mx-auto max-w-2xl px-6 pb-16",children:[(0,b.jsxs)("section",{className:"mb-8 rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Program Setup Wizard"}),(0,b.jsx)("p",{className:"mt-2 text-zinc-400",children:"Set up your affiliate program in three simple steps."})]}),(0,b.jsx)(f,{current:a}),i&&(0,b.jsx)("div",{className:"mb-6 rounded-lg border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-400",children:i}),0===a&&(0,b.jsxs)("form",{onSubmit:A,className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Create merchant"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Merchant name"}),(0,b.jsx)("input",{type:"text",required:!0,value:m,onChange:a=>n(a.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"Acme Inc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Website URL"}),(0,b.jsx)("input",{type:"url",required:!0,value:o,onChange:a=>p(a.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"https://acme.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Default commission (%)"}),(0,b.jsx)("input",{type:"number",required:!0,min:"0",max:"100",step:"0.1",value:q,onChange:a=>r(a.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors"})]}),(0,b.jsx)("button",{type:"submit",disabled:g,className:"w-full rounded-lg bg-blue-600 py-3 font-semibold text-white transition-colors hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsxs)("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):"Create Merchant"})]}),1===a&&(0,b.jsxs)("form",{onSubmit:B,className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Create program"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Program name"}),(0,b.jsx)("input",{type:"text",required:!0,value:s,onChange:a=>t(a.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"Summer Launch 2026"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Attribution window (days)"}),(0,b.jsx)("select",{value:u,onChange:a=>v(a.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white outline-none focus:border-blue-500 transition-colors",children:Array.from({length:90},(a,b)=>b+1).map(a=>(0,b.jsxs)("option",{value:a,children:[a," day",a>1?"s":""]},a))})]}),(0,b.jsx)("button",{type:"submit",disabled:g,className:"w-full rounded-lg bg-blue-600 py-3 font-semibold text-white transition-colors hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsxs)("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):"Create Program"})]}),2===a&&w&&y&&(0,b.jsxs)("div",{className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Review & Launch"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-zinc-900/50 p-4",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-medium uppercase tracking-wider text-zinc-500",children:"Merchant"}),(0,b.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-zinc-400",children:"Name"}),(0,b.jsx)("dd",{className:"font-medium text-white",children:w.name})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-zinc-400",children:"Website"}),(0,b.jsx)("dd",{className:"font-medium text-white",children:w.websiteUrl})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-zinc-400",children:"Commission"}),(0,b.jsxs)("dd",{className:"font-medium text-white",children:[w.defaultCommission,"%"]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-zinc-900/50 p-4",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-medium uppercase tracking-wider text-zinc-500",children:"Program"}),(0,b.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-zinc-400",children:"Name"}),(0,b.jsx)("dd",{className:"font-medium text-white",children:y.name})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-zinc-400",children:"Attribution window"}),(0,b.jsxs)("dd",{className:"font-medium text-white",children:[y.attributionWindowDays," days"]})]})]})]})]}),(0,b.jsx)("button",{onClick:function(){l(!0)},className:"w-full rounded-lg bg-green-600 py-3 font-semibold text-white transition-colors hover:bg-green-500",children:"Launch Program"})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__83d8bc4d._.js.map