module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},8012,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored.contexts.AppRouterContext},38438,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactServerDOMTurbopackClient},17873,a=>{"use strict";var b=a.i(47646),c=a.i(35635),d=a.i(11543);let e=process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",f=[{value:"admin",label:"Admin"},{value:"partner",label:"Partner"},{value:"affiliate",label:"Affiliate"}];function g(){let[a,g]=(0,d.useState)(""),[h,i]=(0,d.useState)(""),[j,k]=(0,d.useState)("affiliate"),[l,m]=(0,d.useState)(null),[n,o]=(0,d.useState)(!1),p=async b=>{b.preventDefault(),m(null),o(!0);try{let b=await fetch(`${e}/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:h,role:j})});if(!b.ok){let a=await b.json().catch(()=>null);throw Error(a?.message??"Registration failed")}let{token:c,role:d}=await b.json();localStorage.setItem("vibeaff_token",c),await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c})}),window.location.href="admin"===d?"/admin":"partner"===d?"/partner":"/affiliate"}catch(a){m(a.message)}finally{o(!1)}};return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-zinc-950 px-4",children:(0,b.jsxs)("form",{onSubmit:p,className:"w-full max-w-sm space-y-6 rounded-2xl border border-white/10 bg-white/5 p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Create an account"}),l&&(0,b.jsx)("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-300",children:l}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",required:!0,value:a,onChange:a=>g(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-sm text-white placeholder:text-zinc-500 focus:border-white/30 focus:outline-none",placeholder:"you@example.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"password",children:"Password"}),(0,b.jsx)("input",{id:"password",type:"password",required:!0,value:h,onChange:a=>i(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-sm text-white placeholder:text-zinc-500 focus:border-white/30 focus:outline-none",placeholder:"••••••••"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"role",children:"Role"}),(0,b.jsx)("select",{id:"role",value:j,onChange:a=>k(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-sm text-white focus:border-white/30 focus:outline-none",children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)("button",{type:"submit",disabled:n,className:"w-full rounded-full bg-white py-3 text-sm font-medium text-black transition hover:bg-zinc-200 disabled:opacity-50",children:n?"Registering...":"Register"}),(0,b.jsxs)("p",{className:"text-center text-sm text-zinc-400",children:["Already have an account?"," ",(0,b.jsx)(c.default,{href:"/login",className:"text-white hover:underline",children:"Log in"})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b61af6bb._.js.map