module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},60091,(a,b,c)=>{"use strict";b.exports=a.r(18622)},47646,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactJsxRuntime},11543,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].React},8012,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored.contexts.AppRouterContext},38438,(a,b,c)=>{"use strict";b.exports=a.r(60091).vendored["react-ssr"].ReactServerDOMTurbopackClient},17873,a=>{"use strict";var b=a.i(47646),c=a.i(35635),d=a.i(11543);let e=process.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",f=[{value:"admin",label:"Admin"},{value:"partner",label:"Partner"},{value:"affiliate",label:"Affiliate"}];function g(){let[a,g]=(0,d.useState)(""),[h,i]=(0,d.useState)(""),[j,k]=(0,d.useState)(""),[l,m]=(0,d.useState)(!1),[n,o]=(0,d.useState)(!1),[p,q]=(0,d.useState)("affiliate"),[r,s]=(0,d.useState)(null),[t,u]=(0,d.useState)(!1),v=(0,d.useMemo)(()=>0===h.length?{label:"",color:"",width:"w-0"}:h.length<6?{label:"Weak",color:"bg-red-500",width:"w-1/3"}:h.length<8?{label:"Medium",color:"bg-yellow-500",width:"w-2/3"}:/[a-z]/.test(h)&&/[A-Z]/.test(h)&&/[0-9]/.test(h)?{label:"Strong",color:"bg-green-500",width:"w-full"}:{label:"Medium",color:"bg-yellow-500",width:"w-2/3"},[h]),w=0===j.length||h===j,x=async b=>{if(b.preventDefault(),s(null),h!==j)return void s("Passwords do not match");u(!0);try{let b=await fetch(`${e}/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:h,role:p})});if(!b.ok){let a=await b.json().catch(()=>null);throw Error(a?.message??"Registration failed")}let{token:c,role:d}=await b.json();localStorage.setItem("vibeaff_token",c),await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c})}),window.location.href="admin"===d?"/admin":"partner"===d?"/partner":"/affiliate"}catch(a){s(a.message)}finally{u(!1)}};return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-zinc-950 px-4",children:(0,b.jsxs)("form",{onSubmit:x,className:"w-full max-w-sm space-y-6 rounded-2xl border border-white/10 bg-white/5 p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Create an account"}),r&&(0,b.jsx)("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-300",children:r}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",required:!0,value:a,onChange:a=>g(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-sm text-white placeholder:text-zinc-500 focus:border-white/30 focus:outline-none",placeholder:"you@example.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"password",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:"password",type:l?"text":"password",required:!0,value:h,onChange:a=>i(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 pr-12 text-sm text-white placeholder:text-zinc-500 focus:border-white/30 focus:outline-none",placeholder:"••••••••"}),(0,b.jsx)("button",{type:"button",onClick:()=>m(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white transition-colors",tabIndex:-1,children:l?(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),h.length>0&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"h-1.5 w-full rounded-full bg-zinc-800 overflow-hidden",children:(0,b.jsx)("div",{className:`h-full rounded-full transition-all duration-300 ${v.color} ${v.width}`})}),(0,b.jsx)("p",{className:`text-xs ${"Weak"===v.label?"text-red-400":"Medium"===v.label?"text-yellow-400":"text-green-400"}`,children:v.label})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:"confirmPassword",type:n?"text":"password",required:!0,value:j,onChange:a=>k(a.target.value),className:`w-full rounded-xl border bg-black/30 px-4 py-3 pr-12 text-sm text-white placeholder:text-zinc-500 focus:outline-none ${!w?"border-red-500/50 focus:border-red-500/70":"border-white/10 focus:border-white/30"}`,placeholder:"••••••••"}),(0,b.jsx)("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white transition-colors",tabIndex:-1,children:n?(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),!w&&(0,b.jsx)("p",{className:"text-xs text-red-400",children:"Passwords do not match"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-zinc-400",htmlFor:"role",children:"Role"}),(0,b.jsx)("select",{id:"role",value:p,onChange:a=>q(a.target.value),className:"w-full rounded-xl border border-white/10 bg-black/30 px-4 py-3 text-sm text-white focus:border-white/30 focus:outline-none",children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)("button",{type:"submit",disabled:t||!w,className:"w-full rounded-full bg-white py-3 text-sm font-medium text-black transition hover:bg-zinc-200 disabled:opacity-50",children:t?"Registering...":"Register"}),(0,b.jsxs)("p",{className:"text-center text-sm text-zinc-400",children:["Already have an account?"," ",(0,b.jsx)(c.default,{href:"/login",className:"text-white hover:underline",children:"Log in"})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b61af6bb._.js.map