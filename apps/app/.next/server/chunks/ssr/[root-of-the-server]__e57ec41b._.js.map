{"version":3,"sources":["../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../../VibeAff/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../../VibeAff/apps/app/src/app/admin/channels/ChannelManager.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\n\ntype Channel = {\n  id: string;\n  name: string;\n  category: string;\n  status: \"connected\" | \"ready\" | \"planned\";\n  provider?: string | null;\n};\n\nconst statusOptions: Channel[\"status\"][] = [\"connected\", \"ready\", \"planned\"];\n\nconst fallbackChannels: Channel[] = [\n  { id: \"fallback-1\", name: \"Google Ads\", category: \"Search\", status: \"connected\", provider: \"google\" },\n  { id: \"fallback-2\", name: \"Meta Ads\", category: \"Social\", status: \"connected\", provider: \"meta\" },\n  { id: \"fallback-3\", name: \"Microsoft Ads\", category: \"Search\", status: \"ready\", provider: \"microsoft\" },\n  { id: \"fallback-4\", name: \"PropellerAds\", category: \"Push / Pop\", status: \"ready\", provider: \"propellerads\" },\n];\n\nfunction getApiUrl() {\n  return process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000\";\n}\n\nexport default function ChannelManager() {\n  const [channels, setChannels] = useState<Channel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [form, setForm] = useState({ name: \"\", category: \"\", status: \"planned\" as Channel[\"status\"], provider: \"\" });\n\n  const apiUrl = useMemo(() => getApiUrl(), []);\n\n  const load = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(`${apiUrl}/v1/channels`);\n      if (!res.ok) {\n        throw new Error(\"Failed to load channels\");\n      }\n      const data = (await res.json()) as Channel[];\n      setChannels(data.length ? data : fallbackChannels);\n    } catch (err) {\n      setError((err as Error).message);\n      setChannels(fallbackChannels);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    void load();\n  }, []);\n\n  const createChannel = async () => {\n    setError(null);\n    if (!form.name || !form.category) {\n      setError(\"Name and category are required.\");\n      return;\n    }\n    const res = await fetch(`${apiUrl}/v1/channels`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name: form.name,\n        category: form.category,\n        status: form.status,\n        provider: form.provider || undefined,\n      }),\n    });\n    if (!res.ok) {\n      setError(\"Failed to create channel.\");\n      return;\n    }\n    setForm({ name: \"\", category: \"\", status: \"planned\", provider: \"\" });\n    await load();\n  };\n\n  const deleteChannel = async (id: string) => {\n    const res = await fetch(`${apiUrl}/v1/channels/${id}`, { method: \"DELETE\" });\n    if (!res.ok) {\n      setError(\"Failed to delete channel.\");\n      return;\n    }\n    await load();\n  };\n\n  return (\n    <section className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-lg font-semibold\">Channels library</h1>\n        <button\n          className=\"rounded-full border border-white/20 px-4 py-2 text-sm\"\n          onClick={createChannel}\n        >\n          Add channel\n        </button>\n      </div>\n      <p className=\"mt-3 text-sm text-zinc-400\">\n        Manage major advertising channels plus push, native, and in-app traffic sources.\n      </p>\n\n      <div className=\"mt-6 grid gap-4 md:grid-cols-4\">\n        <input\n          className=\"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white\"\n          placeholder=\"Channel name\"\n          value={form.name}\n          onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))}\n        />\n        <input\n          className=\"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white\"\n          placeholder=\"Category\"\n          value={form.category}\n          onChange={(event) => setForm((prev) => ({ ...prev, category: event.target.value }))}\n        />\n        <select\n          className=\"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white\"\n          value={form.status}\n          onChange={(event) => setForm((prev) => ({ ...prev, status: event.target.value as Channel[\"status\"] }))}\n        >\n          {statusOptions.map((status) => (\n            <option key={status} value={status}>\n              {status}\n            </option>\n          ))}\n        </select>\n        <input\n          className=\"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white\"\n          placeholder=\"Provider (optional)\"\n          value={form.provider}\n          onChange={(event) => setForm((prev) => ({ ...prev, provider: event.target.value }))}\n        />\n      </div>\n\n      {error ? <p className=\"mt-4 text-sm text-red-300\">{error}</p> : null}\n      {loading ? <p className=\"mt-4 text-sm text-zinc-400\">Loading...</p> : null}\n\n      <div className=\"mt-6 grid gap-4 md:grid-cols-2\">\n        {channels.map((channel) => (\n          <div\n            key={channel.id}\n            className=\"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-4\"\n          >\n            <div>\n              <div className=\"text-white\">{channel.name}</div>\n              <div className=\"text-xs text-zinc-400\">\n                {channel.category} Â· {channel.status}\n              </div>\n            </div>\n            <button\n              className=\"rounded-full border border-white/20 px-3 py-1 text-xs text-white\"\n              onClick={() => deleteChannel(channel.id)}\n            >\n              Remove\n            </button>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}