(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25388,e=>{"use strict";var t=e.i(79838),s=e.i(42311),l=e.i(71511);let r=t.default.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",a=["Create merchant","Create program","Review"];function n({current:e}){return(0,s.jsx)("div",{className:"flex items-center justify-center gap-0 mb-10",children:a.map((t,l)=>(0,s.jsxs)("div",{className:"flex items-center",children:[l>0&&(0,s.jsx)("div",{className:`h-0.5 w-12 sm:w-20 transition-colors duration-300 ${l<=e?"bg-blue-500":"bg-zinc-700"}`}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border-2 text-sm font-bold transition-all duration-300 ${l<e?"border-blue-500 bg-blue-500 text-white":l===e?"border-blue-500 bg-blue-500/20 text-blue-400":"border-zinc-700 bg-zinc-900 text-zinc-500"}`,children:l<e?(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):l+1}),(0,s.jsx)("span",{className:`text-xs font-medium whitespace-nowrap ${l<=e?"text-blue-400":"text-zinc-500"}`,children:t})]})]},t))})}function i(){let[e,t]=(0,l.useState)(0),[a,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[d,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(""),[u,b]=(0,l.useState)(""),[p,f]=(0,l.useState)("10"),[j,w]=(0,l.useState)(""),[g,N]=(0,l.useState)("30"),[y,v]=(0,l.useState)(null),[z,k]=(0,l.useState)(null);async function C(e){e.preventDefault(),i(!0),o(null);try{let e=await fetch(`${r}/v1/merchants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x,websiteUrl:u,defaultCommission:parseFloat(p)})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.message??`Request failed (${e.status})`)}let s=await e.json();v(s),t(1)}catch(e){o(e instanceof Error?e.message:"Something went wrong")}finally{i(!1)}}async function S(e){if(e.preventDefault(),y){i(!0),o(null);try{let e=await fetch(`${r}/v1/merchants/${y.id}/programs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,attributionWindowDays:parseInt(g,10)})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.message??`Request failed (${e.status})`)}let s=await e.json();k(s),t(2)}catch(e){o(e instanceof Error?e.message:"Something went wrong")}finally{i(!1)}}}return d?(0,s.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white",children:[(0,s.jsxs)("header",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[(0,s.jsx)("div",{className:"text-xl font-semibold",children:"Partner Toolkit"}),(0,s.jsx)("a",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",href:"/",children:"Back to site"})]}),(0,s.jsxs)("main",{className:"mx-auto flex max-w-2xl flex-col items-center px-6 py-24 text-center",children:[(0,s.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-green-500/20",children:(0,s.jsx)("svg",{className:"h-10 w-10 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Program launched!"}),(0,s.jsxs)("p",{className:"mt-3 text-zinc-400",children:["Your merchant ",(0,s.jsx)("span",{className:"text-white font-medium",children:y?.name})," and program"," ",(0,s.jsx)("span",{className:"text-white font-medium",children:z?.name})," are live."]}),(0,s.jsx)("a",{href:"/admin",className:"mt-8 inline-block rounded-xl bg-blue-600 px-8 py-3 font-semibold text-white transition-colors hover:bg-blue-500",children:"Go to Admin Dashboard"})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white",children:[(0,s.jsxs)("header",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[(0,s.jsx)("div",{className:"text-xl font-semibold",children:"Partner Toolkit"}),(0,s.jsx)("a",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",href:"/",children:"Back to site"})]}),(0,s.jsxs)("main",{className:"mx-auto max-w-2xl px-6 pb-16",children:[(0,s.jsxs)("section",{className:"mb-8 rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Program Setup Wizard"}),(0,s.jsx)("p",{className:"mt-2 text-zinc-400",children:"Set up your affiliate program in three simple steps."})]}),(0,s.jsx)(n,{current:e}),c&&(0,s.jsx)("div",{className:"mb-6 rounded-lg border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-400",children:c}),0===e&&(0,s.jsxs)("form",{onSubmit:C,className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Create merchant"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Merchant name"}),(0,s.jsx)("input",{type:"text",required:!0,value:x,onChange:e=>h(e.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"Acme Inc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Website URL"}),(0,s.jsx)("input",{type:"url",required:!0,value:u,onChange:e=>b(e.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"https://acme.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Default commission (%)"}),(0,s.jsx)("input",{type:"number",required:!0,min:"0",max:"100",step:"0.1",value:p,onChange:e=>f(e.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors"})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full rounded-lg bg-blue-600 py-3 font-semibold text-white transition-colors hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsxs)("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):"Create Merchant"})]}),1===e&&(0,s.jsxs)("form",{onSubmit:S,className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Create program"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Program name"}),(0,s.jsx)("input",{type:"text",required:!0,value:j,onChange:e=>w(e.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white placeholder-zinc-600 outline-none focus:border-blue-500 transition-colors",placeholder:"Summer Launch 2026"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-sm text-zinc-400",children:"Attribution window (days)"}),(0,s.jsx)("select",{value:g,onChange:e=>N(e.target.value),className:"w-full rounded-lg border border-white/10 bg-zinc-900 px-4 py-2.5 text-white outline-none focus:border-blue-500 transition-colors",children:Array.from({length:90},(e,t)=>t+1).map(e=>(0,s.jsxs)("option",{value:e,children:[e," day",e>1?"s":""]},e))})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full rounded-lg bg-blue-600 py-3 font-semibold text-white transition-colors hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsxs)("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):"Create Program"})]}),2===e&&y&&z&&(0,s.jsxs)("div",{className:"space-y-5 rounded-2xl border border-white/10 bg-black/30 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Review & Launch"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"rounded-xl border border-white/10 bg-zinc-900/50 p-4",children:[(0,s.jsx)("h3",{className:"mb-3 text-sm font-medium uppercase tracking-wider text-zinc-500",children:"Merchant"}),(0,s.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-zinc-400",children:"Name"}),(0,s.jsx)("dd",{className:"font-medium text-white",children:y.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-zinc-400",children:"Website"}),(0,s.jsx)("dd",{className:"font-medium text-white",children:y.websiteUrl})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-zinc-400",children:"Commission"}),(0,s.jsxs)("dd",{className:"font-medium text-white",children:[y.defaultCommission,"%"]})]})]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-white/10 bg-zinc-900/50 p-4",children:[(0,s.jsx)("h3",{className:"mb-3 text-sm font-medium uppercase tracking-wider text-zinc-500",children:"Program"}),(0,s.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-zinc-400",children:"Name"}),(0,s.jsx)("dd",{className:"font-medium text-white",children:z.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-zinc-400",children:"Attribution window"}),(0,s.jsxs)("dd",{className:"font-medium text-white",children:[z.attributionWindowDays," days"]})]})]})]})]}),(0,s.jsx)("button",{onClick:function(){m(!0)},className:"w-full rounded-lg bg-green-600 py-3 font-semibold text-white transition-colors hover:bg-green-500",children:"Launch Program"})]})]})]})}e.s(["default",()=>i])}]);