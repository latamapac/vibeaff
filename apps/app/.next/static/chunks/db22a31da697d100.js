(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20579,e=>{"use strict";var t=e.i(79838),s=e.i(42311),l=e.i(71511);let a={on_hold:"text-yellow-300 bg-yellow-500/20",approved:"text-sky-300 bg-sky-500/20",released:"text-emerald-300 bg-emerald-500/20",rejected:"text-red-300 bg-red-500/20"};function d(){let[e,d]=(0,l.useState)([]),[i,o]=(0,l.useState)(!0),c=(0,l.useMemo)(()=>t.default.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",[]),r=async()=>{o(!0);try{let e=await fetch(`${c}/v1/payouts`);e.ok&&d(await e.json())}finally{o(!1)}};(0,l.useEffect)(()=>{r()},[]);let n=async(e,t)=>{await fetch(`${c}/v1/payouts/${e}/${t}`,{method:"POST"}),await r()};return(0,s.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Payout queue"}),(0,s.jsx)("p",{className:"mt-3 text-sm text-zinc-400",children:"Hold, approve, release, or reject affiliate payouts."}),i&&(0,s.jsx)("p",{className:"mt-4 text-sm text-zinc-400",children:"Loading..."}),(0,s.jsxs)("div",{className:"mt-6 space-y-3 text-sm",children:[0===e.length&&!i&&(0,s.jsx)("p",{className:"text-zinc-400",children:"No payouts yet."}),e.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-3 rounded-xl border border-white/10 bg-black/30 p-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-white",children:[e.affiliateId.slice(0,12),"... Â· ",e.currency," ",e.amount.toLocaleString()]}),(0,s.jsx)("div",{className:"text-xs text-zinc-400",children:e.holdUntil?`Hold until ${new Date(e.holdUntil).toLocaleDateString()}`:"No hold"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:`rounded-full px-3 py-1 text-xs ${a[e.status]??"text-zinc-300 bg-white/10"}`,children:e.status}),"on_hold"===e.status&&(0,s.jsx)("button",{className:"rounded-full bg-white px-3 py-1 text-black",onClick:()=>n(e.id,"approve"),children:"Approve"}),"approved"===e.status&&(0,s.jsx)("button",{className:"rounded-full bg-emerald-500 px-3 py-1 text-black",onClick:()=>n(e.id,"release"),children:"Release"}),("on_hold"===e.status||"approved"===e.status)&&(0,s.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-white",onClick:()=>n(e.id,"reject"),children:"Reject"})]})]},e.id))]})]})}e.s(["default",()=>d])}]);