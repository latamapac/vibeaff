(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71251,e=>{"use strict";var t=e.i(79838),a=e.i(42311),r=e.i(71511);let s=["connected","ready","planned"],l=[{id:"fallback-1",name:"Google Ads",category:"Search",status:"connected",provider:"google"},{id:"fallback-2",name:"Meta Ads",category:"Social",status:"connected",provider:"meta"},{id:"fallback-3",name:"Microsoft Ads",category:"Search",status:"ready",provider:"microsoft"},{id:"fallback-4",name:"PropellerAds",category:"Push / Pop",status:"ready",provider:"propellerads"}];function n(){let[e,n]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[h,u]=(0,r.useState)({name:"",category:"",status:"planned",provider:""}),m=(0,r.useMemo)(()=>t.default.env.NEXT_PUBLIC_API_URL??"http://localhost:4000",[]),p=async()=>{o(!0),c(null);try{let e=await fetch(`${m}/v1/channels`);if(!e.ok)throw Error("Failed to load channels");let t=await e.json();n(t.length?t:l)}catch(e){c(e.message),n(l)}finally{o(!1)}};(0,r.useEffect)(()=>{p()},[]);let x=async()=>{(c(null),h.name&&h.category)?(await fetch(`${m}/v1/channels`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h.name,category:h.category,status:h.status,provider:h.provider||void 0})})).ok?(u({name:"",category:"",status:"planned",provider:""}),await p()):c("Failed to create channel."):c("Name and category are required.")},g=async e=>{(await fetch(`${m}/v1/channels/${e}`,{method:"DELETE"})).ok?await p():c("Failed to delete channel.")};return(0,a.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Channels library"}),(0,a.jsx)("button",{className:"rounded-full border border-white/20 px-4 py-2 text-sm",onClick:x,children:"Add channel"})]}),(0,a.jsx)("p",{className:"mt-3 text-sm text-zinc-400",children:"Manage major advertising channels plus push, native, and in-app traffic sources."}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-4",children:[(0,a.jsx)("input",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",placeholder:"Channel name",value:h.name,onChange:e=>u(t=>({...t,name:e.target.value}))}),(0,a.jsx)("input",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",placeholder:"Category",value:h.category,onChange:e=>u(t=>({...t,category:e.target.value}))}),(0,a.jsx)("select",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",value:h.status,onChange:e=>u(t=>({...t,status:e.target.value})),children:s.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("input",{className:"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-white",placeholder:"Provider (optional)",value:h.provider,onChange:e=>u(t=>({...t,provider:e.target.value}))})]}),i?(0,a.jsx)("p",{className:"mt-4 text-sm text-red-300",children:i}):null,d?(0,a.jsx)("p",{className:"mt-4 text-sm text-zinc-400",children:"Loading..."}):null,(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-zinc-400",children:[e.category," Â· ",e.status]})]}),(0,a.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white",onClick:()=>g(e.id),children:"Remove"})]},e.id))})]})}e.s(["default",()=>n])}]);